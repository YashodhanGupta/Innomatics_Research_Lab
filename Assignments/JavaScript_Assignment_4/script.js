let menuData = [
    {
      "E_id": 1,
      "E_name": "Mi 11 Lite (Jazz Blue, 128 GB)  (8 GB RAM)",
      "E_category": "mobile",
      "E_description": "Get ready to steal glances wherever you go with the Mi 11 Lite smartphone. ",
      "E_price": 13990,
      "E_image": "https://rukminim2.flixcart.com/image/312/312/kq6yefk0/mobile/i/w/m/11-lite-m2101k9ai-mi-original-imag496gkgqjrvvg.jpeg?q=70"
    },
    {
      "E_id": 2,
      "E_name": "Redmi Note 5 Pro (Black, 64 GB)  (6 GB RAM)",
      "E_category": "mobile",
      "E_description": "Take photos, make calls or watch videos easily on this Redmi Note 5 Pro mobile phone. Powered by Qualcomm Snapdragon 636 Octa-core Processor.",
      "E_price": 10999,
      "E_image": "https://rukminim2.flixcart.com/image/312/312/jdhp47k0/mobile/e/h/e/redmi-note-5-pro-na-original-imaf2ashnnbxxks5.jpeg?q=70"
    },
    {
      "E_id": 3,
      "E_name": "Redmi 7A (Matte Black, 32 GB)  (2 GB RAM)",
      "E_category": "mobile",
      "E_description": "With the Redmi 7A smartphone, you can access your digital world right in the palm of your hand. It is crafted and designed to ensure smooth operation and seamless performance.",
      "E_price": 6890,
      "E_image": "https://rukminim2.flixcart.com/image/312/312/k65d18w0pkrrdj/mobile-refurbished/m/j/w/redmi-7a-32-d-mzb7800in-mi-2-original-imafg27hkgpkhsdy.jpeg?q=70"
    },
    {
      "E_id": 4,
      "E_name": "Redmi Note 6 Pro (Blue, 64 GB)  (6 GB RAM)",
      "E_category": "mobile",
      "E_description": "Say hello to Redmi Note 6 Pro - Xiaomi's first smartphone that boasts an AI-powered quad-camera. ",
      "E_price": 10899,
      "E_image": "https://rukminim2.flixcart.com/image/312/312/josxlzk0/mobile/y/j/j/mi-redmi-note-6-pro-mzb6882in-original-imafb6npun9zvqbk.jpeg?q=70"
    },
    {
      "E_id": 5,
      "E_name": "Xiaomi 14 CIVI (Hot Pink, 512 GB)  (12 GB RAM)",
      "E_category": "mobile",
      "E_description": "The Leica 50 MP Professional Camera System, which consists of three Leica cameras built to produce stunning portraits.",
      "E_price": 44999,
      "E_image": "https://rukminim2.flixcart.com/image/312/312/xif0q/mobile/m/q/u/-original-imah34gx5euj4gqz.jpeg?q=70"
    },
    {
      "E_id": 6,
      "E_name": "Xiaomi 11i Hypercharge 5G (Pacific Pearl, 128 GB)  (6 GB RAM)",
      "E_category": "mobile",
      "E_description": "Let yourself experience and immerse in the world of mesmerising smartphone experience with Xiaomi 11i Hypercharge 5G which comes loaded with mind-blowing features. ",
      "E_price": 25999,
      "E_image": "https://rukminim2.flixcart.com/image/312/312/ky7lci80/mobile/y/0/v/-original-imagagf6reaugwfw.jpeg?q=70"
    }
];

let laptops = [
    {
        "E_id": 1,
        "E_name": "Colorful XS Series Intel Core i5 12th Gen 12500H - (16 GB/512 GB SSD/Windows 11 Home/4 GB Graphics/NVIDIA GeForce RTX 3050) XS 22-HD55016512B-G-IND Gaming Laptop  (15.6 Inch, Grey, 1.99 Kg)",
        "E_category": "laptop",
        "E_description": "High-performance laptop for all your needs.",
        "E_price": 59999,
        "E_image": "https://rukminim2.flixcart.com/image/312/312/xif0q/computer/v/s/3/-original-imah8pfpwhajte9v.jpeg?q=70"
    },
    {
        "E_id": 2,
        "E_name": "Acer Aspire 7 Intel Core i5 12th Gen 1240P - (8 GB/512 GB SSD/Windows 11 Home/4 GB Graphics/NVIDIA GeForce GTX 1650) A715-51G, A715-51G-527C Gaming Laptop  (15.6 inch, Black, 2.1 Kg)",
        "E_category": "laptop",
        "E_description": "Powerful and sleek, ideal for gaming and multitasking.",
        "E_price": 74999,
        "E_image": "https://rukminim2.flixcart.com/image/312/312/xif0q/computer/v/g/u/a715-5g-gaming-laptop-acer-original-imah3fhzfwrbmpzh.jpeg?q=70"
    },
    {
        "E_id": 3,
        "E_name": "Laptop Model 1 (Silver, 512 GB)  (8 GB RAM)",
        "E_category": "laptop",
        "E_description": "High-performance laptop for all your needs.",
        "E_price": 47990,
        "E_image": "https://rukminim2.flixcart.com/image/312/312/xif0q/computer/y/f/c/gaming-f15-gaming-laptop-asus-original-imah4bj9ajwxjajm.jpeg?q=70"
    },
    {
        "E_id": 4,
        "E_name": "Acer Aspire 5 Intel Core i5 13th Gen - (8 GB/512 GB SSD/Windows 11 Home/4 GB Graphics/NVIDIA GeForce RTX RTX™ 2050) Aspire 5 Gaming Laptop  (15.6 inch, Steel Gray, 1.78 kg)",
        "E_category": "laptop",
        "E_description": "High-performance laptop for all your needs.",
        "E_price": 59999,
        "E_image": "https://rukminim2.flixcart.com/image/312/312/xif0q/computer/g/p/3/a515-58gm-gaming-laptop-acer-original-imagx9zub5bh278w.jpeg?q=70"
    },
    {
        "E_id": 5,
        "E_name": "Lenovo IdeaPad Gaming 3 AMD Ryzen 5 Quad Core 5500H - (8 GB/512 GB SSD/Windows 11 Home/4 GB Graphics/NVIDIA GeForce RTX 2050) 15ACH6 Gaming Laptop  (15.6 Inch, Shadow Black, 2.25 Kg)",
        "E_category": "laptop",
        "E_description": "High-performance laptop for all your needs.",
        "E_price": 59999,
        "E_image": "https://rukminim2.flixcart.com/image/312/312/xif0q/computer/i/y/u/-original-imah2h5mt5yqzjfu.jpeg?q=70"
    },
    {
        "E_id": 6,
        "E_name": "ASUS TUF Gaming F17 - AI Powered Gaming Intel Core i5 11th Gen 11400H - (16 GB/512 GB SSD/Windows 11 Home/4 GB Graphics/NVIDIA GeForce RTX 2050/70 W) FX706HF-NY040W Gaming Laptop  (17.3 Inch, Graphite Black, 2.60 kg)",
        "E_category": "laptop",
        "E_description": "High-performance laptop for all your needs.",
        "E_price": 59999,
        "E_image": "https://rukminim2.flixcart.com/image/312/312/xif0q/computer/e/m/g/fx706hf-ny040w-gaming-laptop-asus-original-imah4bjbeve36gag.jpeg?q=70"
    },
    // Add more laptops as needed
];



function displayMenu(menuData) {
    const Ecards = document.getElementById("Ecards");
    Ecards.innerHTML = ""; // Clear the container

    menuData.forEach(E => {
        const card = document.createElement("div");
        card.classList.add("card");

        card.innerHTML = `
            <img src="${E.E_image}" alt="${E.E_name}" />
            <h1>${E.E_name}</h1>
            <p>${E.E_description}</p>
            <h2>₹${E.E_price.toFixed(2)}</h2>
            <button id="add" onclick="addToCart(${E.E_id}, '${E.E_name}', ${E.E_price})">Add To Cart</button>
        `;

        Ecards.appendChild(card);
    });
}

// Call the displayMenu function to show the mobile products initially
displayMenu(menuData);

const cart = [];

function addToCart(id, name, price) {
    const existingItem = cart.find(item => item.id === id);

    if (existingItem) {
        existingItem.quantity++;
    } else {
        cart.push({ id, name, price, quantity: 1 });
    }

    updateCartDisplay();
}

function updateCartDisplay() {
    const orderDisplay = document.getElementById("orderDisplay");
    const totalPrice = document.getElementById("totalPrice");
    const cartIcon = document.querySelector(".cart-icon");

    orderDisplay.innerHTML = "";

    if (cart.length === 0) {
        orderDisplay.innerHTML = "<li>Your cart is empty</li>";
        totalPrice.textContent = "₹ 0.00";
        cartIcon.setAttribute("data-count", "0");
    } else {
        let total = 0;
        let totalItems = 0;

        cart.forEach(item => {
            total += item.price * item.quantity;
            totalItems += item.quantity;

            const listItem = document.createElement("li");
            listItem.innerHTML = `
                ${item.name} - $${(item.price * item.quantity).toFixed(2)} 
                <button onclick="updateItem(${item.id}, 'increase')">+ </button>
                <span> x${item.quantity} </span>
                <button onclick="updateItem(${item.id}, 'decrease')">-</button>
                <button onclick="removeItem(${item.id})">Remove</button>
            `;
            orderDisplay.appendChild(listItem);
        });

        totalPrice.textContent = `₹ ${total.toFixed(2)}`;
        cartIcon.setAttribute("data-count", totalItems);
    }
}

function removeItem(id) {
    const itemIndex = cart.findIndex(item => item.id === id);
    if (itemIndex !== -1) {
        cart.splice(itemIndex, 1);
    }
    updateCartDisplay();
}

function updateItem(id, action) {
    const item = cart.find(i => i.id === id);

    if (item) {
        if (action === "increase") {
            item.quantity++;
        } else if (action === "decrease") {
            item.quantity--;
            if (item.quantity === 0) {
                const index = cart.indexOf(item);
                cart.splice(index, 1);
            }
        }
    }

    updateCartDisplay();
}

function toggleCart() {
    const sideCart = document.getElementById("sideCart");
    const Ecards = document.getElementById("Ecards");

    sideCart.classList.toggle("show");
    Ecards.classList.toggle("shifted");
}

document.getElementById("mobiles-link").addEventListener("click", function () {
    document.getElementById("Ecards").classList.remove("hidden");
    displayMenu(menuData); // Display mobile cards
});

document.getElementById("laptops-link").addEventListener("click", function () {
    document.getElementById("Ecards").classList.remove("hidden");
    displayMenu(laptops);  // Display laptop cards
});

document.getElementById("home-appliances-link").addEventListener("click", function () {
    document.getElementById("Ecards").classList.remove("hidden");
    displayMenu(homeApplianceData);  // Display home appliance cards
});
